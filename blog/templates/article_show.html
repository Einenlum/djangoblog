{% extends 'base.html' %}

{% load markdownify %}

{% block center_content %}

<article>

    <h1>{{ article.title }}</h1>

    {% if user.is_authenticated %}
        <div><a href="{% url 'article_edit' slug=article.slug %}">Edit this article</a></div>
    {% endif %}

    
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2019-03-11T00:00:00Z">Mar 11, 2019</time>
        </li>
        <li>By {{ article.author }}</li>
        
        <li>
            Categories:
            <em>
                {% for category in article.categories.all %}
                    
                    <a href="{{ category.get_absolute_url }}">{{ category.name }}</a>,
                {% endfor %}

            </em>
        </li>
        

        <li>{{ article.read_in_minutes }} minute{{ article.read_in_minutes|pluralize }} read</li>
    </ul>
</aside>

    
{{ article.content|markdownify }}
    
</article>

<h3>Comments </h3>

<ul>
{% if article.comments.all %}
    {% for comment in article.comments.all %}
        <li>
            <p>By {{ comment.author }} - {{ comment.published_at.isoformat }}</p>
            <p>{{ comment.content }}</p>
        </li>
    {% endfor %}
{% else %}
    No comments here
{% endif %}
</ul>

{% endblock %}
