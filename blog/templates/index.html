{% extends 'base.html' %}

{% load markdownify %}

{% block center_content %}

<section id="home">


    {% if user.is_authenticated %}
      <div style="margin-right:0; text-align: right">
        <a href="{% url 'article_create' %}">Add an article</a>
      </div> 
    {% endif %}

  <ul>
    {% for article in page %}


    <li class="first" >
      <h1><a href="{{ article.get_absolute_url }}" title="{{ article.title }}">{{ article.title }}</a></h1>
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="{{ article.published_at.isoformat }}">
            {{ article.published_at.day }}
            /
            {{ article.published_at.month }}
            /
            {{ article.published_at.year }}
            </time>
        </li>

        <li>By <a href="{{ article.author.get_author_absolute_url }}">{{ article.author }}</a></li>
        
        <li>
            Categories:
            <em>
                {% for category in article.categories.all %}
                    
                    <a href="{{ category.get_absolute_url }}">{{ category.name }}</a>,
                {% endfor %}
            </em>
        </li>

        <li>{{ article.read_in_minutes }} minute{{ article.read_in_minutes|pluralize }} read</li>
    </ul>
</aside>

      

      <p>{{ article.content|markdownify|truncatechars:200 }}</p>
      
      <a href="{{ article.get_absolute_url }}">Read moreâ€¦</a>
      
    </li>
    

    {% endfor %}
    
    

  </ul>
</section>

{% include 'pagination.html' with current_page_url='' %}

{% endblock %}
